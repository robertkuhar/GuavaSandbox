package org.rekdev.guava.collections.gtug;

import java.util.*;

import com.google.common.collect.*;

public class Multisets {
    class BlogPost {
        public Collection<String> getTags() {
            return null;
        }
    }

    /*
     * distinct tags:  tags.keySet().size();
     * count for "java" tag:  tags.containsKey( "java" ) ? tags.get( "java" ) : 0;
     * total count:  oh crap...gotta iterate or something
     */
    public Map<String,Integer> oldSchool_getTagTallies() {
        Map<String,Integer> tags = new HashMap<String,Integer>();
        for ( BlogPost post : getAllBlogPosts() ) {
            for ( String tag : post.getTags() ) {
                int value = tags.containsKey( tag ) ? tags.get( tag ) : 0;
                tags.put( tag, ++value );
            }
        }
        return tags;
    }

    /*
     * distinct tags:  tags.elementSet().size()
     * count for "java" tag:  tags.count( "java" );  
     * total count:  tags.size();
     */
    public Multiset<String> multiset_getTagTallies() {
        Multiset<String> tags = HashMultiset.create();
        for ( BlogPost post : getAllBlogPosts() ) {
            tags.addAll( post.getTags() );
        }
        return tags;
    }

    public Collection<BlogPost> getAllBlogPosts() {
        return null;
    }
    
    public static final void main(String[] args) {
        Multiset<String> hashMultiSet = HashMultiset.create();
        Multiset<String> treeMultiSet = TreeMultiset.create();
        
        for ( String arg : args ) {
            hashMultiSet.add( arg );
            treeMultiSet.add( arg );
        }
        
        System.out.println( "hashMultiSet.toString(): " + hashMultiSet.toString() );
        System.out.println( "hashMultiSet.elementSet(): " + hashMultiSet.elementSet() );

        System.out.println( "treeMultiSet.toString(): " + treeMultiSet.toString() );
        System.out.println( "treeMultiSet.elementSet(): " + treeMultiSet.elementSet() );
    }
 
}
